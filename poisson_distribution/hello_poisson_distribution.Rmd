---
title: "hello_poisson_distribution"
author: "tx.huang@haplox.com"
date: "2016/11/19"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

$\mathbf z$ has a Poisson probability function with parameter $\lambda > 0$ and is denoted by 
$\mathbf z\sim \mbox{Poisson}(\lambda )$ if 
$$\begin{equation}  P_{\mathbf z}(z)=\frac{e^{-\lambda } \lambda ^{z}}{z!}, \quad z=0,1,\dots \label{eqpoisson} \tag{1.1} \end{equation}$$

## Including Plots

You can also embed plots, for example:

```{r, echo=FALSE}
par(mfrow=c(2,2))
lambda <- 1:4
x <- 0:10

for (i in lambda)
{
    x1 <- dpois(x, lambda[i])
    barplot(x1, names.arg=c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10"), ylab=expression(P(x)), ylim=c(0,.4), col="lightgreen")
    title(main = substitute(lambda == i,list(i=i)))
}
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

 If the number of trials $N$ is large, the probability of success $p$ of each trial is small and the product $Np=\lambda$ is moderate, then the probability of $z$  successes according to the Binomial function is very close to the probability that a Poisson random variable with parameter $\lambda$ takes the value $z$.

**例1.**
法国足球选手特雷泽盖(Trezeguet)射失点球的概率是1%，试算他射100次点球全中的概率是多少？

解：
根据**二项分布**，我们有
$$\mbox{Prob}\lbrace \mathbf z=0 \rbrace = \binom {N}{0} (1-p)^{N}=\binom {100}{0} 0.99^{100}=0.366$$
根据**泊松分布**。由于$\lambda =Np=1$,我们有
$$\mbox{Prob}\lbrace \mathbf z=0 \rbrace =\frac{e^{-\lambda } \lambda ^{0}}{0!}=e^{-1}=0.3679$$
```{r}
#The Binomial Distribution
print(dbinom(x=0, size=100, prob=0.01))
#The Poisson Distribution
print(dpois(x=0,lambda=100*0.01))
```

**例2.**
已知某家小杂货店，平均每周售出2个水果罐头。请问该店水果罐头的最佳库存量是多少？

解：
假定不存在季节因素，可以近似认为，这个问题满足以下三个条件：
（1）顾客购买水果罐头是小概率事件。
（2）购买水果罐头的顾客是独立的，不会互相影响。
（3）顾客购买水果罐头的概率是稳定的。
在统计学上，只要某类事件满足上面三个条件，它就服从**"泊松分布"**。
```{r table, echo=FALSE, results="asis"}
library(xtable)
#print(xtable(cars),type="html")
df = data.frame(p=c(dpois(x=0:5,lambda=2), 1-sum(dpois(x=0:5,lambda=2))),                      cumlative_p=c(ppois(q=0:5,lambda=2), 1))
rownames(df) <- c(as.character(0:5),">=6")
print(xtable(df,digits=3),type="html")
```
从上表可见，如果存货4个罐头，95%的概率不会缺货；如果存货5个罐头，98%的概率不会缺货。



**例3.**(节选自<http://www.ruanyifeng.com/blog/2013/01/poisson_distribution.html>)

2012年12月， 美国康涅狄格州发生校园枪击案(<http://news.qq.com/a/20121215/000199.htm>)，造成28人死亡。资料显示，1982年至2012年，美国共发生62起（大规模）枪击案。其中，2012年发生了7起，是次数最多的一年。去年有这么多枪击案，这是巧合，还是表明美国治安恶化了？


